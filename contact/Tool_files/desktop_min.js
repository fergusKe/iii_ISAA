// COMPILED SCRIPTS

// Original file: Scrollbar.js
Scrollbar=function(e,t){function h(e){c=e.pageX-l,a=!0}function p(e){if(a){var n=FJ.MathUtil.clamp(0,f,e.pageX-c);t&&t(n/f*s)}}function d(){a=!1}var n=this;FJ.View.call(this);var r,i,s,o,u=new FJ.View;this.add(u),this.class(e);var a,f,l=0,c;u.div.addEventListener("mousedown",h),document.addEventListener("mousemove",p),document.addEventListener("mouseup",d),this.setDimensions=function(e,t){r=e==-1?window.innerWidth:e,n.div.style.width=r+"px",n.div.style.height=t+"px"},this.setTarget=function(e,t){s=e,i=i==-1?window.innerWidth:t,o=i/s*r,u.div.style.width=o+"px",u.setDisplay("block"),u.translate(0),f=r-o},this.update=function(e){l=e/s,l*=f,u.translate(l)},this.disable=function(){u.setDisplay("none")}},Scrollbar.prototype=new FJ.View,Scrollbar.prototype.constructor=FJ.View;
// Original file: AutoHide.js
AutoHide=function(e,t,n){n=n||1e3;var r,i=!1,s=function(){clearInterval(r),e(),r=setInterval(t,n)};this.cancel=function(){if(!i)return;document.removeEventListener("mousemove",s),clearInterval(r),e(),i=!1},this.start=function(e){if(i||FJ.Capabilities.touch)return;e=e||0,document.addEventListener("mousemove",s),r=setInterval(t,n+e),i=!0}};
// Original file: Reel.js
Reel=function(e,t){var n=this,r=!1,i=new FJ.View(t);i.id(e+"-reel");var s=new BackgroundMedia;s.scaleMode=BackgroundMedia.FILL,s.dispatcher.addEventListener(function(){var e=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,"home");FJ.Application.broadcast(e)}),i.add(s);var o=new VideoControls;i.add(o),o.onMute=s.mute,o.onUnmute=s.unMute,o.onPlay=function(){o.setPlayState(!0),s.resume()},o.onPause=function(){o.setPlayState(!1),s.pause()};var u=new ViewState(e,-1,-1,i,function(t){return t.head==e&&!t.isHeadOnly()});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:u.onNavigation(e.slug),u.isVisible()?a():(s.clear(),o.deactivate());break;case Tool.Actions.MSG_RESIZE:u.onResize(),u.isVisible()?s.activate():s.deactivate();break;case Tool.Actions.MSG_ON_DATA_LOADED:u.isVisible()&&a();break;case Tool.Actions.MSG_WINDOW_FOCUS:r&&(r=!1,s.resume());break;case Tool.Actions.MSG_WINDOW_BLUR:s.checkPaused()||(r=!0,s.pause())}};var a=function(){GlobalBackground.setColor("#000"),GlobalBackground.lockScroll();if(BaseView.requestData("home",Tool.Actions.V_HOME,Tool.Actions.DT_HOME))return;var t=FJ.Application.model.data[e];s.load(getVideoUrl(t.splashVideo)),o.setPlayState(!0),o.setMuteState(!1),o.activate()}};
// Original file: CloseButton.js
CloseButton=function(e,t){var n,r,i=0,s=!1,o=new FJ.View(t);o.class("close-button");var u=function(){o.opacity(1)},a=function(){o.opacity(0)},f=new AutoHide(u,a,2500);o.div.addEventListener("mouseover",function(e){s&&f.cancel()}),o.div.addEventListener("mouseout",function(e){s&&f.start()}),o.registerClick(function(e){if(i<=1){var t=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,r);FJ.Application.broadcast(t)}else window.history.back()});var l=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,o,function(e){var t=e.head==Tool.Actions.V_HOME&&!e.isHeadOnly(),i=e.head==Tool.Actions.V_WRK&&!e.isHeadOnly()&&e.parts[1]!=Tool.Actions.V_TAG,s=i&&e.parts[2]==Tool.Actions.V_CASESTUDY,o=i&&e.parts[2]==Tool.Actions.V_VIDEO;if(s||o)i=!1;var u=e.head==Tool.Actions.V_DIR_REEL,a=n&&n.parts[2]==Tool.Actions.V_CASESTUDY,f=n&&n.parts[2]==Tool.Actions.V_DIR_REEL,l=t||u||i||s||o;t&&(r="home");if(s||o)r="work/"+e.parts[1];return u&&(r="director/"+e.parts[1]),i&&(r=n&&!a?n.slug:Tool.Actions.V_WRK),l});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:i++,l.onNavigation(e.slug),n=new FJ.Slug(e.slug);break;case Tool.Actions.MSG_RESIZE:l.onResize();break;case Tool.Actions.MSG_VIDEO_START:s=!0,f.start();break;case Tool.Actions.MSG_VIDEO_STOP:s=!1,f.cancel()}}};
// Original file: BufferingInfo.js
BufferingInfo=function(e,t){var n=new FJ.View(t);n.class("buffering-info"),n.show();var r={lines:11,length:5,width:3,radius:10,corners:0,rotate:0,direction:1,color:"#808080",speed:1.1,trail:72,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"0",left:"0"},i=new Spinner(r),s=function(){n.opacity(1),i.spin(n.div)},o=function(){n.opacity(0),i.stop()};o(),FJ.Application.createMediator().update=function(e){switch(e.message){case Tool.Actions.MSG_VIDEO_BUFFER_START:s();break;case Tool.Actions.MSG_VIDEO_BUFFER_STOP:o()}}};
// Original file: Subnavi.js
Subnavi=function(e,t){var n,r=new FJ.View(t);r.id(e);var i=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,r,function(e){var t=e.head==Tool.Actions.V_DIR&&!e.isHeadOnly();return t});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:i.onNavigation(e.slug);break;case Tool.Actions.MSG_RESIZE:i.onResize();break;case Tool.Actions.MSG_OPEN_SUBNAVI:n=e.data,r.visible?(o(),setTimeout(s,100)):s();break;case Tool.Actions.MSG_UPDATE_SUBNAVI:u(e.data);break;case Tool.Actions.MSG_CLOSE_SUBNAVI:}};var s=function(){BaseView.loadTemplate(n.template,function(e){e.execute(r.div,n),r.show(),r.animation.set("subnavi-slide-in",.2,"ease-out",.05,null,"backwards");var t=n.default||0;u(i.lastSlug.parts[1]||n.navi[t].name)})},o=function(){r.animation.set("subnavi-slide-out",.1,"ease-in",0,r.hide,"forwards")},u=function(t){if(!n)return;var r=document.querySelectorAll("#"+e+" ul li"),i=t||n.navi[0].name;i=i.toLowerCase();for(var s=0;s<r.length;s++)n.navi[s].name.toLowerCase()==i?r[s].setAttribute("class","active"):r[s].setAttribute("class","")}};
// Original file: WorkSubnavi.js
WorkSubnavi=function(e,t){var n,r,i=new FJ.View(t);i.id(e);var s=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,i,function(e){var t=e.head==Tool.Actions.V_WRK&&(e.isHeadOnly()||e.parts[1]==Tool.Actions.V_TAG);return t});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:s.onNavigation(e.slug),c(s.lastSlug.parts[2]);break;case Tool.Actions.MSG_RESIZE:s.onResize();break;case Tool.Actions.MSG_OPEN_WORK_SUBNAVI:n=e.data,o()}};var o=function(){if(!r){BaseView.loadTemplate("data/templates/subnavi/work-list-menu.html",function(e){r=e,n&&r.execute(i.div,{defaultTags:n});var t=document.querySelectorAll(".link");for(var s=0;s<t.length;s++){var u=new FJ.ElementWrapper(t[s]);u.registerClick(function(){var e="work/tag/"+u.div.getAttribute("data");return function(){var t=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e);FJ.Application.broadcast(t)}}())}l(),i.animation.set("subnavi-slide-in",.2,"ease-out",.05,null,"backwards"),o()});return}c(s.lastSlug.parts[2])},u=function(){i.animation.set("subnavi-slide-out",.1,"ease-in",0,null,"forwards"),document.removeEventListener("keydown",a)},a=function(e){document.activeElement==document.getElementById("tag-search-field")&&e.keyCode==13&&f()},f=function(){var e=document.getElementById("tag-search-field").value;if(e){var t=encodeURIComponent(e),n=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,"work/tag/"+t);FJ.Application.broadcast(n)}},l=function(){var e=document.getElementById("tag-search-button");e=new FJ.ElementWrapper(e),e.registerClick(f),FJ.Capabilities.touch||document.addEventListener("keydown",a)},c=function(t){if(!n)return;t=t||Tool.Actions.V_DEFAULT_TAG,t=decodeURIComponent(t),t.length>20&&(t=t.substring(0,20)+"...");var r=n.indexOf(t)>-1,i=document.getElementById("tag-search-results"),s=document.querySelectorAll("#"+e+" ul li");if(!r){i&&(i.innerHTML='<a href="#/work/tag/'+t+'"><small>RESULTS FOR </small>'+t+"</a>",i.setAttribute("class","active"),i.style.display="");for(var o=0;o<s.length;o++)s[o].setAttribute("class",""),window.innerWidth<Tool.Actions.TABLET_THRESHOLD&&(s[o].style.display="none")}else{i&&(i.setAttribute("class",""),window.innerWidth<Tool.Actions.TABLET_THRESHOLD&&(i.style.display="none"));for(var o=0;o<s.length;o++)s[o].style.display="",o==n.indexOf(t)?s[o].setAttribute("class","active"):s[o].setAttribute("class","")}}};
// Original file: SoftSubnavi.js
SoftSubnavi=function(e,t){var n,r,i=new FJ.View(t);i.id(e);var s=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,i,function(e){var t=e.head==Tool.Actions.V_DIR_ITEM||e.head==Tool.Actions.V_ABT||e.head==Tool.Actions.V_CNT;return t});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:s.onNavigation(e.slug);break;case Tool.Actions.MSG_RESIZE:s.onResize();break;case Tool.Actions.MSG_OPEN_SOFT_SUBNAVI:n=e.data,o()}};var o=function(){BaseView.loadTemplate(n.template,function(e){e.execute(i.div,n),i.show(),i.animation.set("subnavi-slide-in",.2,"ease-out",.05,null,"backwards");for(var t=0;t<n.navi.length;t++){var r=new FJ.ElementWrapper(document.getElementById("soft-subnavi-"+n.navi[t].section));r.registerClick(function(e){if(e.section)return function(){var t=new FJ.Notification(Tool.Actions.MSG_ON_SOFT_SUBNAVI);t.data=e.section,FJ.Application.broadcast(t)};if(e.slug)return function(){var t=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e.slug);FJ.Application.broadcast(t)}}(n.navi[t]))}})},u=function(){i.animation.set("subnavi-slide-out",.1,"ease-in",0,i.hide,"forwards")}};
// Original file: About.js
About=function(e,t){var n,r=new FJ.View(t);r.id(e);var i,s,o,u,a=new FJ.VirtualScroll("about-scroll",.1),f=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,r,function(t){return t.head==e});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:f.onNavigation(e.slug),f.isVisible()?f.m==f.IN_NEW?l():m():h();break;case Tool.Actions.MSG_RESIZE:f.onResize(),f.isVisible()?c():h();break;case Tool.Actions.MSG_ON_DATA_LOADED:f.isVisible()&&l();break;case Tool.Actions.MSG_ON_SOFT_SUBNAVI:f.isVisible()&&m(e.data)}};var l=function(){GlobalBackground.setColor("#000"),GlobalBackground.lockScroll();if(BaseView.requestData(e,e,Tool.Actions.DT_ABOUT))return;if(!n){BaseView.loadTemplate(Tool.Actions.TP_ABOUT,function(e){n=e,l()});return}d(),c()},c=function(){if(!f.isVisible())return;a.dispatcher.addEventListener(p)},h=function(){a.dispatcher.removeEventListener(p)},p=function(e){var t=e.scrollY;r.translate(0,t*-1);var n=FJ.MathUtil.clamp(0,window.innerHeight,t),i=n/window.innerHeight;s.translate(0,n/2,"rotateX("+i*-45+"deg)"),s.opacity(1-i*.9),o.translate(0,n),a.limitY(0,u.height())},d=function(){var t=FJ.Application.model.data[e];n.execute(r.div,t),i=new FJ.ElementWrapper(document.getElementById("about-top-bg")),s=new FJ.ElementWrapper(document.getElementById("about-top-logo")),o=new FJ.ElementWrapper(document.getElementById("about-top-arrow")),i.animation.resetAfterAnimation=!0,s.animation.resetAfterAnimation=!0,o.animation.resetAfterAnimation=!0,i.opacity(0),s.opacity(0),ImagePreloader.preload([t.top.splashDesktop,t.top.logo],v);var f=new FJ.Notification(Tool.Actions.MSG_OPEN_SOFT_SUBNAVI);f.data=FJ.Application.model.data[e].subnavi,f.data&&FJ.Application.broadcast(f),u=new FJ.ElementWrapper(document.getElementById("about-below")),document.querySelector(".footer .hit-box").addEventListener("click",function(){a.scrollTo(0,0)}),FJ.Loader.loadJSON(Tool.Actions.DT_AWARDS,function(e){console.log("awardsData",e);var t=e.featured.slice(0,3),n=document.querySelectorAll(".award-header");for(var r=0,i=t.length;r<i;r++){var s=n[r].querySelectorAll("span, h6");s[0].className="icon icon-"+t[r].type,s[1].innerHTML=t[r].amount}})},v=function(){i.opacity(1),s.opacity(1),i.animation.set("fade-in",.2,"ease-out"),s.animation.set("about-logo-fade-in",.5,"ease-out",.3,null,"backwards"),o.animation.set("about-arrow-slide-in",.3,"ease-out",1,null,"backwards")},m=function(t){var n=50;if(t!="main"){var r=window.innerHeight+document.getElementById(e+"-"+t).offsetTop-Tool.Actions.MENU_HEIGHT;a.scrollTo(0,r,n)}else a.scrollTo(0,0,n)}};
// Original file: Awards.js
Awards=function(e,t){var n=this,r,i,s=new FJ.View(t);s.id(e);var o=new FJ.VirtualScroll("awards-scroll",.1),u=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,s,function(t){return t.head==e});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:u.onNavigation(e.slug),u.isVisible()?u.m==u.IN_NEW&&a():l();break;case Tool.Actions.MSG_RESIZE:u.onResize(),u.isVisible()?f():l();break;case Tool.Actions.MSG_ON_DATA_LOADED:u.isVisible()&&a()}};var a=function(){GlobalBackground.setDottedPattern(),GlobalBackground.lockScroll();if(BaseView.requestData(e,e,Tool.Actions.DT_AWARDS))return;if(!r){BaseView.loadTemplate(Tool.Actions.TP_AWARDS,function(e){r=e,a()});return}c(),h(),f()},f=function(){if(!u.isVisible())return;o.dispatcher.addEventListener(p)},l=function(){o.dispatcher.removeEventListener(p)},c=function(){var e=FJ.Application.model.data.awards;d(e),r.execute(s.div,e)},h=function(){i=new AwardsHeader(FJ.Application.model.data.awards.total),i.animate()},p=function(e){var t=e.scrollY;o.limitY(0,s.height()-window.innerHeight),s.translate(0,t*-1)},d=function(e){var t=e.projects.length;for(var n=0;n<t;n++){var r=e.projects[n];if(r.direction instanceof Array){var i=r.direction.length,s={},o="";for(var u=0;u<i;u++){var a=r.direction[u].role.split(","),f=r.direction[u].name,l=r.direction[u].slug;for(var c=0;c<a.length;c++){var h=a[c].trim().toLowerCase();s[h]||(s[h]=[]),s[h].push(f+"/"+l)}}for(var h in s){var p=s[h];p.sort();var c=0;p.length>1&&(h+="s"),o+="<h5>"+h+"</h5>";for(;c<p.length;c++){var f=p[c].split("/")[0],l=p[c].split("/")[0];f.toLowerCase().indexOf("tool")>-1&&(f='<a href="'+l+'">'+f+"</a>"),o+="<h6>"+f+"</h6>",c<p.length-1&&(o+=", ")}}r.direction=o}if(r.awards instanceof Array){var a="";for(var u=0;u<r.awards.length;u++)a+="<div><span class='icon icon-"+r.awards[u][0].toLowerCase()+"'></span><h4>"+r.awards[u][1]+"</h4></div>";r.awards=a}r.index=n}}};
// Original file: Contact.js
Contact=function(e,t){var n=this,r,i=new FJ.View(t),s=new WorldNodeGarden;i.add(s);var o=new FJ.View;o.id(e),i.add(o);var u=new FJ.VirtualScroll("connect-scroll",.2),a=new ViewState(e,720,-1,i,function(t){return t.head==e});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:a.onNavigation(e.slug),a.isVisible()?f():c();break;case Tool.Actions.MSG_RESIZE:a.onResize(),a.isVisible()?l():c();break;case Tool.Actions.MSG_ON_SOFT_SUBNAVI:a.isVisible()&&m(e.data);break;case Tool.Actions.MSG_ON_DATA_LOADED:a.isVisible()&&f()}};var f=function(){GlobalBackground.setDottedPattern(),GlobalBackground.lockScroll(),s.clear();if(BaseView.requestData(e,e,Tool.Actions.DT_CONNECT))return;if(!r){BaseView.loadTemplate(Tool.Actions.TP_CONNECT,function(e){r=e,f()});return}h(),l()},l=function(){u.dispatcher.addEventListener(v),d()},c=function(){u.dispatcher.removeEventListener(v)},h=function(){u.reset();var t=FJ.Application.model.data[e];o.opacity(0);var n=t.sales.length;for(var i=0;i<n;i++){t.sales[i].membersHTML="";var s=t.sales[i].members;for(var a=0;a<s.length;a++){var f="";f+="<li>",f+="<h2>"+s[a].name+"</h2>";var l=s[a].email.split(",");if(s[a].title){var c=s[a].title.split(",");for(var h=0,d=c.length;h<d;h++){var v=l[h];f+="<h3>"+c[h]+"</h3>",l.length>1&&(f+="<a class='full' href='mailto:"+v+"'>"+v+"</a>")}}s[a].phone&&(f+="<h4>"+s[a].phone+"</h4>"),l.length==1&&(f+="<a class='full' href='mailto:"+s[a].email+"'>"+s[a].email+"</a>"),s[a].representing&&(f+="<h5>representing</h5>",f+="<a class='represented'>"+s[a].representing+"</a>"),f+="</li>",t.sales[i].membersHTML+=f}}r.execute(o.div,t),setTimeout(p,100)},p=function(){o.opacity(1);var t="cubic-bezier(0, .60, .58, 1)",n=document.getElementsByClassName("office-symbol"),r=document.getElementsByClassName("office-city"),i=document.getElementsByClassName("office-details"),u=document.getElementsByClassName("networks")[0],a=document.getElementsByClassName("contacts")[0];BaseView.animateIn(a,"connect-contacts-slideup",.3,"ease-out",0,"backwards"),BaseView.animateIn(u,"connect-networks-slideup",.2,"ease-in",.1,"backwards"),BaseView.animateIn(i[0],"connect-detail-slideup",.2,"ease-out",.2,"backwards"),BaseView.animateIn(i[1],"connect-detail-slideup",.2,"ease-out",.3,"backwards"),BaseView.animateIn(i[2],"connect-detail-slideup",.2,"ease-out",.4,"backwards");var f=n;BaseView.animateIn(f[0],"connect-symbol-scaleleft",.2,"ease-in",.4,"backwards"),BaseView.animateIn(f[1],"connect-symbol-scaleleft",.2,"ease-in",.5,"backwards"),BaseView.animateIn(f[2],"connect-symbol-scaleleft",.2,"ease-in",.6,"backwards"),BaseView.animateIn(f[0].getElementsByTagName("span")[0],"connect-symbol-slideup",.1,t,.6,"backwards"),BaseView.animateIn(f[1].getElementsByTagName("span")[0],"connect-symbol-slideup",.1,t,.7,"backwards"),BaseView.animateIn(f[2].getElementsByTagName("span")[0],"connect-symbol-slideup",.1,t,.8,"backwards"),BaseView.animateIn(r[0],"connect-city-slideup",.2,"ease-out",.7,"backwards"),BaseView.animateIn(r[1],"connect-city-slideup",.2,"ease-out",.8,"backwards"),BaseView.animateIn(r[2],"connect-city-slideup",.2,"ease-out",.9,"backwards");var l=new FJ.Notification(Tool.Actions.MSG_OPEN_SOFT_SUBNAVI);l.data=FJ.Application.model.data[e].subnavi,l.data&&FJ.Application.broadcast(l),d(),FJ.Capabilities.touch||setTimeout(s.draw,1100)},d=function(){},v=function(e){u.limitY(0,o.height()-window.innerHeight);var t=e.scrollY;o.translate(0,t*-1),s.translate(0,t*-0.5)},m=function(t){var n=20;if(t!="main"){var r=document.getElementById(e+"-"+t).offsetTop-Tool.Actions.MENU_HEIGHT;u.scrollTo(0,r,n)}else u.scrollTo(0,0,n)}};
// Original file: DirectorItem.js
DirectorItem=function(e,t){"use strict";var n,r,i,s,o,u,a,f,l;n=this,s=new FJ.VirtualScroll("director-item-scroll",.2),o=new FJ.View(t),u=new ImageSlideshow,o.add(u.media()),a=new DirectorInfoPanel(s),a.id(e+"-item"),o.add(a),f=new ViewState(e+"-item",720,-1,o,function(t){return t.head===e&&!t.isHeadOnly()}),FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:f.onNavigation(e.slug);if(f.isVisible()){var t=f.lastSlug.parts[1];t!=r?(r=t,p()):m()}else u.disable(),y();break;case Tool.Actions.MSG_RESIZE:f.onResize(),f.isVisible()?g():y();break;case Tool.Actions.MSG_ON_DATA_LOADED:f.isVisible()&&p();break;case Tool.Actions.MSG_ON_SOFT_SUBNAVI:f.isVisible()&&c(e.data)}};var c=function(t){var n=15;if(t!="main"){var r=window.innerHeight+document.getElementById(e+"-"+t).offsetTop-Tool.Actions.MENU_HEIGHT*3;s.scrollTo(0,r,n)}else s.scrollTo(0,0,n)},h=function(e){switch(e){case DirectorItem.CONTENT_READY:}};a.dispatcher.addEventListener(h);var p=function(){GlobalBackground.lockScroll(),GlobalBackground.setColor("#000000"),u.disable(),a.clear();if(BaseView.requestData(r,r,Tool.Actions.DT_DIRECTOR_ITEM+"?s="+r))return;i=FJ.Application.model.data[r],u.loadGallery(i),d(),s.reset(),m(),a.build(i)},d=function(){var e=new FJ.Notification(Tool.Actions.MSG_OPEN_SOFT_SUBNAVI);e.data=i.subnavi,FJ.Application.broadcast(e)},v=function(e){var t=e.scrollY;a.onScroll(t),u.onScroll(t)},m=function(){s.dispatcher.addEventListener(v),u.enable()},g=function(){u.onResize()},y=function(){s.dispatcher.removeEventListener(v),u.disable()}},DirectorItem.CONTENT_READY="DirectorItem.CONTENT_READY";
// Original file: Directors.js
Directors=function(e,t){var n=this,r="cubic-bezier(1, 0, 1, .81)",i="cubic-bezier(0, 1, .46, 1)",s,o,u,a=new FJ.View(t);a.id(e);var f=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,a,function(t){return t.head==e&&t.isHeadOnly()});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:f.onNavigation(e.slug),f.isVisible()&&l();break;case Tool.Actions.MSG_RESIZE:f.onResize();break;case Tool.Actions.MSG_ON_DATA_LOADED:f.isVisible()&&l()}};var l=function(){GlobalBackground.setDottedPattern(),a.class("");if(BaseView.requestData(e,e,Tool.Actions.DT_DIRECTORS))return;if(!s){BaseView.loadTemplate(Tool.Actions.TP_DIR,function(e){s=e,l()});return}f.m==f.IN_NEW&&h(),d()},c=function(){s&&v()},h=function(){s.execute(a.div,FJ.Application.model.data.directors),o=document.getElementById("directors-category-left"),u=document.getElementById("directors-category-right"),p(document.getElementById("directors-divider"),"directors-divider-in",1,r,0,"backwards",!0),p(document.getElementById("background-reveal-left"),"directors-reveal-left",.3,"ease-out",.4,"backwards",!0),p(document.getElementById("background-reveal-right"),"directors-reveal-right",.3,"ease-out",.5,"backwards",!0),p(o.getElementsByTagName("h1")[0],"directors-h1-left",.25,"ease-out",.4,"backwards"),p(o.getElementsByTagName("h1")[1],"directors-h1-left",.25,"ease-out",.5,"backwards"),p(o.getElementsByTagName("span")[1],"directors-span-left",.2,i,.6,"backwards"),p(u.getElementsByTagName("h1")[0],"directors-h1-right",.25,"ease-out",.5,"backwards"),p(u.getElementsByTagName("h1")[1],"directors-h1-right",.25,"ease-out",.6,"backwards"),p(u.getElementsByTagName("span")[1],"directors-span-right",.2,i,.7,"backwards")},p=function(e,t,n,r,i,s,o){var u=new FJ.ElementWrapper(e);u.setDisplay("");var a=function(){o&&u.setDisplay("none"),u.animation.reset()};u.animation.set(t,n,r,i,a,s)},d=function(){o.addEventListener("click",w,!1),u.addEventListener("click",E,!1),o.addEventListener("mouseover",m,!1),u.addEventListener("mouseover",g,!1),o.addEventListener("mouseout",y,!1),u.addEventListener("mouseout",b,!1)},v=function(){o.removeEventListener("click",w),u.removeEventListener("click",E),o.removeEventListener("mouseover",m),u.removeEventListener("mouseover",g),o.removeEventListener("mouseout",y),u.removeEventListener("mouseout",b)},m=function(e){a.class("category-left-hover")},g=function(e){a.class("category-right-hover")},y=function(e){a.class("")},b=function(e){a.class("")},w=function(t){var n=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e+"/live-action");FJ.Application.broadcast(n)},E=function(t){var n=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e+"/interactive");FJ.Application.broadcast(n)}};
// Original file: DirectorsList.js
DirectorsList=function(e,t){var n=this,r,i=new FJ.View(t);i.id(e+"-list");var s,o="",u,a,f,l,c=new ViewState(e,720,-1,i,function(t){return t.head==e&&!t.isHeadOnly()}),h=new FJ.VirtualScroll("awards-scroll",.1);FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:c.onNavigation(e.slug);var t=c.lastSlug.parts[1]==o;o=c.lastSlug.parts[1],c.isVisible()&&(c.m==c.IN_NEW?v():t||(m(),y(),g(),w()));break;case Tool.Actions.MSG_RESIZE:c.onResize(),y(),c.isVisible()?p():d();break;case Tool.Actions.MSG_ON_DATA_LOADED:c.isVisible()&&v()}};var p=function(){y(),h.dispatcher.addEventListener(b)},d=function(){h.dispatcher.removeEventListener(b),s&&clearInterval(s)},v=function(){GlobalBackground.setDottedPattern(),GlobalBackground.lockScroll(),s=setInterval(function(){i.div.style.height="100px",setTimeout(function(){i.div.style.height="auto"},1)},1e3);if(BaseView.requestData(e,e,Tool.Actions.DT_DIRECTORS))return;if(!r){BaseView.loadTemplate(Tool.Actions.TP_DIR_LIST,function(e){r=e,v()});return}m(),p(),g(),BaseView.showSubnavi(e)},m=function(){var e=FJ.Application.model.data.directors[o],t=e.directors.length/2|0;t=e.directors.length%2==0?t:t+1,i.removeAll(),r.execute(i.div,{category:e.category,left:e.directors.slice(0,t),right:e.directors.slice(t),single:e.directors});var n=document.getElementsByClassName("column-left")[0].getElementsByTagName("li"),s=document.getElementsByClassName("column-right")[0].getElementsByTagName("li"),c=document.getElementsByClassName("column-single")[0].getElementsByTagName("li");u=[],a=[];var h=function(e){u.push(e)};FJ.ArrayUtil.applyOn(n,h),FJ.ArrayUtil.applyOn(s,h),h=function(e){a.push(e)},FJ.ArrayUtil.applyOn(c,h),f=n.length,l=e.directors.length},g=function(){var e=window.innerWidth<920,t=e?a:u;FJ.ArrayUtil.applyOn(t,function(t,n){var r=new FJ.ElementWrapper(t.getElementsByTagName("div")[0]);r.animation.resetAfterAnimation=!0;var i=new FJ.ElementWrapper(t.getElementsByTagName("a")[0]);i.animation.resetAfterAnimation=!0;var s,o,a;e?(s=u.length/2,o=n%s,a=(n/s|0)*.1):(o=n,a=0),r.animation.set("director-block-slide-in",.15,"ease-out",.1*o+a,null,"backwards"),i.animation.set("director-name-slide-in",.15,"ease-out",.1+.05*o+a,null,"backwards")})},y=function(){},b=function(e){var t=e.scrollY;y(),i.translate(0,t*-1);var n=window.innerWidth<920?l:f,r=window.innerWidth<920?72:90;h.limitY(0,Math.max(0,n*r-window.innerHeight+Tool.Actions.MENU_HEIGHT*2))},w=function(){var e=new FJ.Notification(Tool.Actions.MSG_UPDATE_SUBNAVI);e.data=c.lastSlug.parts[1],FJ.Application.broadcast(e)}};
// Original file: Home.js
Home=function(e,t){var n,r,i=new FJ.View(t);i.id(e);var s=new FJ.View;s.class("media"),i.add(s);var o=new FJ.View;o.class("content"),i.add(o);var u=new BackgroundMedia("splash-overlay-black");u.setOverlayOpacity(.6),u.forceVideoFillMode=!0,u.disableNavi=!1,u.dispatcher.addEventListener(function(){u.replay()}),s.add(u);var a=new ViewState(e,720,-1,i,function(t){return t.head==e&&t.isHeadOnly()});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:a.onNavigation(e.slug),a.isVisible()?f():u.deactivate();break;case Tool.Actions.MSG_RESIZE:a.onResize(),a.isVisible()?u.activate():u.deactivate();break;case Tool.Actions.MSG_ON_DATA_LOADED:a.isVisible()&&f()}};var f=function(){GlobalBackground.setColor("#000");if(BaseView.requestData("home",Tool.Actions.V_HOME,Tool.Actions.DT_HOME))return;if(!n){BaseView.loadTemplate(Tool.Actions.TP_HOME,function(e){n=e,f()});return}var t=FJ.Application.model.data[e];n.execute(o.div,t);var s=new FJ.ElementWrapper(document.getElementById("view-reel"));s.registerClick(function(){if(FJ.Capabilities.touch)r.play();else{var e=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,"home/reel");FJ.Application.broadcast(e)}});var a=1;BaseView.animateIn(o.div.getElementsByTagName("img")[0],"home-logo-in",.5*a,"cubic-bezier(0, 1, .58, 1)",.1,"backwards"),BaseView.animateIn(o.div.getElementsByTagName("h1")[0],"home-line-in",.5*a,"cubic-bezier(0, 1, .58, 1)",.2,"backwards"),BaseView.animateIn(o.div.getElementsByTagName("h1")[1],"home-line-in",.7*a,"cubic-bezier(0, 1, .58, 1)",.25,"backwards"),BaseView.animateIn(o.div.getElementsByClassName("white-block")[0],"home-block-in",.3*a,"ease-in",.6,"backwards"),BaseView.animateIn(o.div.getElementsByClassName("white-block")[1],"home-block-in",.3*a,"ease-in",.7,"backwards"),BaseView.animateIn(o.div.getElementsByTagName("h6")[0],"fade-in",.3*a,"ease-out",.7,"backwards"),BaseView.animateIn(o.div.getElementsByTagName("span")[0],"home-button-in",.2*a,"ease-out",.8,"backwards"),BaseView.animateIn(o.div.getElementsByClassName("red-block")[0],"home-block-in",.3*a,"ease-in",.9,"backwards");var l=o.div.getElementsByTagName("a");for(var c=0;c<l.length;c++)BaseView.animateIn(l[c],"fade-in",.3*a,"ease-out",1+c*.1,"backwards");var h=t.featureImages.length*Math.random()|0,p=FJ.Capabilities.touch,d=p?t.featureImages[h]:getVideoUrl(t.splashVideoShort);FJ.Capabilities.touch&&(r=new TouchVideo(getVideoUrl(t.splashVideo),i.div)),u.load(d),u.mute(),u.loop(!0)}};
// Original file: Navi.js
Navi=function(e,t){var n=!1,r=!1,i=new FJ.View(t);i.id(e);var s=[],o=new ViewState(e,720,-1,i,function(e){return FJ.Capabilities.touch?e.parts.length<2||e.parts[2]!=Tool.Actions.V_VIDEO:!0});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:o.onNavigation(e.slug),o.isVisible()?u():l();break;case Tool.Actions.MSG_RESIZE:o.onResize(),f();break;case Tool.Actions.MSG_VIDEO_START:n=!0,h.start();break;case Tool.Actions.MSG_VIDEO_STOP:n=!1,h.cancel()}};var u=function(){var e=FJ.Capabilities.touch||!FJ.Capabilities.csstransforms3d;e?i.div.classList.add("simple"):i.div.classList.add("three-d");if(!r){var t=FJ.Application.model.data.main.sections;for(var u=0;u<t.length;u++){var l=new NaviButton(t[u],e);i.add(l),s.push(l)}r=!0}f(),a(o.lastSlug),n=!1,h.cancel()},a=function(e){for(var t=0;t<s.length;t++)s[t].setActive(e.parts[0])},f=function(){for(var e=0;e<s.length;e++){var t=window.innerWidth/s.length|0,n=e<s.length-1?t:window.innerWidth-t*(s.length-1),r=e*t+e;s[e].resizeTo(r,n)}},l=function(){if(FJ.Capabilities.touch)return;i.translate(0,-Tool.Actions.MENU_HEIGHT)},c=function(){if(FJ.Capabilities.touch)return;i.translate(0)},h=new AutoHide(c,l,2500)};
// Original file: WorkList.js
WorkList=function(e,t){var n=new FJ.View(t);n.id(e);var r,i,s,o,u=!1,a=new FJ.View;a.id(),n.add(a);var f=function(e){c.scrollTo(e,e,10)},l=new Scrollbar("scrollbar",f);n.add(l);var c=new FJ.VirtualScroll("work-list-scroll",.1),h,p,d=!0,v=new ViewState(e,720,-1,n,function(t){var n=t.head==e&&(t.isHeadOnly()||t.parts[1]==Tool.Actions.V_TAG);return n});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:v.onNavigation(e.slug),l.disable();if(v.isVisible()){var t=v.lastSlug.parts[2]||Tool.Actions.V_DEFAULT_TAG;t=decodeURIComponent(t),d=p!=t,p=t,y()}else c.dispatcher.removeEventListener(b);break;case Tool.Actions.MSG_RESIZE:v.onResize(),v.isVisible()&&k();break;case Tool.Actions.MSG_ON_DATA_LOADED:v.isVisible()&&y()}};var m=function(){return Tool.Actions.V_TAG+"-"+p},g=function(){var e=new FJ.Notification(Tool.Actions.MSG_OPEN_WORK_SUBNAVI);e.data=FJ.Application.model.data[m()].defaultTags,e.data&&FJ.Application.broadcast(e)},y=function(){GlobalBackground.setColor("#151515"),GlobalBackground.lockScroll();if(d){w();if(BaseView.requestData(m(),m(),Tool.Actions.DT_WORK+"?t="+encodeURI(p)))return}g(),d?S():T(),d=!1},b=function(e){var t=FJ.Capabilities.touch?e.scrollX:e.scrollY;l.update(t);for(var n=0;n<h.length;n++)h[n].onScroll(t,u)},w=function(){a.removeAll(),h=[],window.removeEventListener("keydown",E)},E=function(e){switch(e.keyCode){case 37:c.scrollTo(0,c.event.targetScrollY-i,10);break;case 39:c.scrollTo(0,c.event.targetScrollY+i,10);break;default:}},S=function(e){w(),i=window.innerWidth<=Tool.Actions.NARROW_LAYOUT_THRESHOLD?300:400,r=FJ.Application.model.data[m()],o=Math.ceil(window.innerWidth/i)+1,s=Math.min(r.projects.length,o),c.reset(),c.dispatcher.addEventListener(b),c.setValue(window.innerWidth*1.5,window.innerWidth*1.5),c.scrollTo(0,0,40);for(var t=0;t<s;t++){var n=new WorkThumb(t,s,r.projects);n.setWidth(i),n.onScroll(0,0),n.registerClick(function(e){return function(t){if(t.target.tagName.toLowerCase()=="a")return;c.dispatcher.removeEventListener(b),FJ.ArrayUtil.apply(h,"animateOut"),setTimeout(h[e].onClick,500)}}(t)),a.add(n),h.push(n)}window.addEventListener("keydown",E);var f=function(){u=!0};if(!e)for(var t=0;t<s;t++)h[t].animateIn(t==s-1?f:null);u=!1;if(s==0){var l=new WorkNotFound(0,s,p);a.add(l);var d=new WorkRecommended(1,s,FJ.Application.model.data[m()].defaultTags);a.add(d)}e||x()},x=function(){var e=FJ.Capabilities.touch?WorkList.SCROLLBAR_HEIGHT_TOUCH:WorkList.SCROLLBAR_HEIGHT;l.setDimensions(window.innerWidth,e),l.div.style.top=window.innerHeight-e+"px";if(s==o){var t=r.projects.length*i-window.innerWidth;c.limitY(0,t),c.limitX(0,t),l.setTarget(t,window.innerWidth)}else c.limitY(0,0),c.limitX(0,0),l.disable();c.touch()},T=function(){i=window.innerWidth<=Tool.Actions.NARROW_LAYOUT_THRESHOLD?300:400;for(var e=0;e<h.length;e++)h[e].reset(),h[e].setWidth(i),h[e].animateIn();x(),c.dispatcher.addEventListener(b)},N,C=function(){S(!0)},k=function(){x(),clearInterval(N),N=setTimeout(C,200)}},WorkList.SCROLLBAR_HEIGHT=12,WorkList.SCROLLBAR_HEIGHT_TOUCH=2;
// Original file: WorkItem.js
WorkItem=function(e,t){var n,r,i=!1,s,o=new FJ.VirtualScroll("work-item-scroll",.2),u=new FJ.View(t);u.id(e+"-item");var a=new VideoProxy;u.add(a.media());var f=new ImageProxy;u.add(f.media());var l=new WorkInfoPanel(o);u.add(l);var c=new ViewState(e,720,-1,u,function(t){var n=FJ.Capabilities.touch&&t.parts.length>=2&&t.parts[2]==Tool.Actions.V_VIDEO,r=t.head==e&&!t.isHeadOnly()&&t.parts[1]!=Tool.Actions.V_TAG;return r&&!n});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:c.onNavigation(e.slug),c.isVisible()?p():m();break;case Tool.Actions.MSG_RESIZE:c.onResize(),c.isVisible()?v():m();break;case Tool.Actions.MSG_ON_DATA_LOADED:c.isVisible()&&p();break;case Tool.Actions.MSG_WINDOW_FOCUS:a.play();break;case Tool.Actions.MSG_WINDOW_BLUR:a.pause()}};var h=function(e){switch(e){case WorkItem.CONTENT_READY:a.attachControls();break;case WorkItem.VIDEO_MANUALLY_PAUSED:l.autoHide.cancel();break;case WorkItem.VIDEO_MANUALLY_RESUMED:l.autoHide.start(),o.scrollTo(0,0,20);break;case WorkItem.VIDEO_ENDED:FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_STOP)),a.disable(),f.loadSplash(r);break;case WorkItem.VIDEO_REPLAY:f.disable(),a.playSplash(r);break;case WorkItem.ON_CASE_STUDY:f.disable(),a.playCaseStudy(r);break;case WorkItem.ON_TOUCH_VIDEO:s.play()}};l.dispatcher.addEventListener(h),a.dispatcher.addEventListener(h);var p=function(){GlobalBackground.setColor("#000000"),GlobalBackground.lockScroll(),n=c.lastSlug.parts[1],f.disable(),a.disable(),l.clear();if(BaseView.requestData(n,n,Tool.Actions.DT_PROJECT+"?s="+n))return;r=FJ.Application.model.data[n],l.build(r);var e=c.lastSlug.parts[2]==Tool.Actions.V_CASESTUDY;e&&(f.disable(),e=a.playCaseStudy(r),e&&FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_START))),e||(f.disable(),e=a.playSplash(r),e&&FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_START))),e||(a.disable(),a.disableControls(),f.loadSplash(r)),FJ.Capabilities.touch&&(!r.splashVideo||r.splashVideo==""||FJ.Capabilities.touch)&&(s=new TouchVideo(getVideoUrl(r.splashVideo),u.div)),d()},d=function(){o.dispatcher.addEventListener(g),a.activate()},v=function(){a.onResize()},m=function(){o.dispatcher.removeEventListener(g),a.deactivate()},g=function(e){var t=e.scrollY;l.onScroll(t,a.isPlaying()),a.onScroll(t),f.onScroll(t)}},WorkItem.CONTENT_READY="WorkItem.CONTENT_READY",WorkItem.VIDEO_MANUALLY_PAUSED="WorkItem.VIDEO_MANUALLY_PAUSED",WorkItem.VIDEO_MANUALLY_RESUMED="WorkItem.VIDEO_MANUALLY_RESUMED",WorkItem.VIDEO_REPLAY="WorkItem.VIDEO_REPLAY",WorkItem.VIDEO_ENDED="WorkItem.VIDEO_ENDED",WorkItem.HEADER_SHOW="WorkItem.HEADER_SHOW",WorkItem.HEADER_HIDE="WorkItem.HEADER_HIDE",WorkItem.ON_CASE_STUDY="WorkItem.ON_CASE_STUDY",WorkItem.ON_TOUCH_VIDEO="WorkItem.ON_TOUCH_VIDEO";
// Original file: DirectorReel.js
DirectorReel=function(e,t){var n=this,r=new FJ.View(t);r.id(e+"-reel");var i=new BackgroundMedia;i.scaleMode=BackgroundMedia.FILL,i.dispatcher.addEventListener(function(){a==u.length-1?c():h()}),r.add(i);var s=new ExtendedVideoControls;r.add(s),s.onMute=i.mute,s.onUnmute=i.unMute,s.onPlay=function(){s.setPlayState(!0),i.resume()},s.onPause=function(){s.setPlayState(!1),i.pause()};var o,u,a=0,f=new ViewState(e,Tool.Actions.VISIBILITY_THRESHOLD,-1,r,function(t){return t.head==e&&!t.isHeadOnly()});FJ.Application.createMediator().update=function(e){switch(e.message){case FJ.MSG_NAVIGATE:f.onNavigation(e.slug),f.isVisible()?l():(i.clear(),s.deactivate());break;case Tool.Actions.MSG_RESIZE:f.onResize(),f.isVisible()?i.activate():i.deactivate();break;case Tool.Actions.MSG_ON_DATA_LOADED:f.isVisible()&&l()}};var l=function(){GlobalBackground.setColor("#000"),GlobalBackground.lockScroll(),o=f.lastSlug.parts[1];if(BaseView.requestData(o,o,Tool.Actions.DT_DIRECTOR_ITEM+"?s="+o))return;u=FJ.Application.model.data[o].reel,s.setPlayState(!0),s.setMuteState(!1),s.activate(),a=-1,h()},c=function(){var e="director/"+o,t=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e);FJ.Application.broadcast(t)},h=function(){a++,a>=u.length&&(a=0),s.updateCounter(a+1,u.length);var e=getVideoUrl(u[a].video);i.load(e)},p=function(){a--,a<=0&&(a=u.length-1),s.updateCounter(a+1,u.length);var e=getVideoUrl(u[a].video);i.load(e)};s.onNext=h,s.onPrev=p};
// Original file: SmallWindow.js
SmallWindow=function(e,t){var n,r,i=0,s=!1,o=new FJ.View(t);o.class("small-window"),o.div.innerHTML="<p>Please resize your browser.</p>";var u=new ViewState("small-window",-1,Tool.Actions.VISIBILITY_THRESHOLD,o,function(e){return!0});u.onNavigation(e),FJ.Application.createMediator().update=function(e){switch(e.message){case Tool.Actions.MSG_RESIZE:u.onResize()}}};
// Original file: TouchVideo.js
TouchVideo=function(e,t){var n=function(){i.webkitEnterFullscreen()},r=function(){i.pause(),i.style.display="none"},i=document.createElement("video");i.style.display="none",i.style.width="100%",i.style.height="100%",i.style.position="absolute",t.appendChild(i),i.addEventListener("loadeddata",n),i.addEventListener("webkitendfullscreen",r,!1),this.play=function(){i.style.display="block",i.src=e,i.play()}};
// Original file: BackgroundMedia.js
BackgroundMedia=function(e){var t=this;FJ.View.call(this),this.class("splash");var n,r,i=!1,s,o=!1,u,a,f,l,c=!1,h=!1,p=!1,d;this.scaleMode,this.forceVideoFillMode=!1,this.includeMenu=!1,this.disableNavi=!0,e&&(a=document.createElement("div"),a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.setAttribute("class",e),this.div.appendChild(a)),this.dispatcher=new FJ.EventDispatcher,this.setOverlayOpacity=function(t){e&&(a.style.opacity=t)},this.load=function(n,r,p,m){if(!n||n=="null")return;t.clear(),p&&(console.log("manualShow is used!"),console.trace()),i=!1,d=n,s=r,o=p,u=m;var y=n.substring(n.lastIndexOf(".")+1).toLowerCase();switch(y){case"jpg":case"png":case"gif":f=document.createElement("img"),f.onload=v,l=(new FJ.ElementWrapper(f)).animation,f.src=n,t.scaleMode=BackgroundMedia.FILL;break;case"mp4":case"webm":case"ogv":c=!0,h=!0,f=document.createElement("video"),f.setAttribute("type","video/"+y),f.preload="auto",m?(f.poster=m,f.style.width="100%",f.style.height="100%"):(f.style.opacity=0,f.autoplay=!0),f.addEventListener("canplaythrough",v),f.addEventListener("ended",g),l=(new FJ.ElementWrapper(f)).animation,f.src=n,t.scaleMode=t.forceVideoFillMode?BackgroundMedia.FILL:BackgroundMedia.LETTERBOX,e?t.div.insertBefore(f,a):t.div.appendChild(f)}FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_BUFFER_START))};var v=function(){if(!f)return;n=c?f.videoWidth:f.width,r=c?f.videoHeight:f.height,i=!0,c||(e?t.div.insertBefore(f,a):t.div.appendChild(f)),o||t.fadeIn(),s&&s(),FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_BUFFER_STOP))},m=function(){},g=function(){t.dispatcher.dispatch(BackgroundMedia.ON_VIDEO_ENDED)};this.resize=function(){if(!i||!f)return;var e=t.includeMenu?Tool.Actions.MENU_HEIGHT:0,s=window.innerWidth/n,o=(window.innerHeight-e)/r;if(s>=o&&t.scaleMode==BackgroundMedia.FILL||s<o&&t.scaleMode==BackgroundMedia.LETTERBOX){f.width=window.innerWidth,f.height=r*s,f.style.marginLeft=0;var u=(f.height-window.innerHeight)*-0.5+e*.5;f.style.marginTop=u+"px"}else f.height=window.innerHeight,f.width=n*o,f.style.marginTop=e*.5+"px",f.style.marginLeft=(f.width-window.innerWidth)*-0.5+"px"},this.checkPaused=function(){return h},this.pause=function(){if(c&&!h){f.pause(),h=!0;var e=new FJ.Notification(Tool.Actions.MSG_VIDEO_STOP);t.disableNavi&&FJ.Application.broadcast(e)}},this.resume=function(){if(c&&h){f.play(),h=!1;var e=new FJ.Notification(Tool.Actions.MSG_VIDEO_START);t.disableNavi&&FJ.Application.broadcast(e)}},this.replay=function(){f.currentTime=0,f.play(),h=!1;var e=new FJ.Notification(Tool.Actions.MSG_VIDEO_START);t.disableNavi&&FJ.Application.broadcast(e)},this.deactivate=function(){if(!i)return;t.pause(),f.style.opacity=0},this.activate=function(){if(!i)return;t.resize(),f.style.opacity=1,t.resume()},this.fadeIn=function(){t.activate(),f.style.opacity=1,l.set("fade-in",.6,"ease-out",0,function(){l.reset()},"backwards")},this.clear=function(){p=!1,t.endedCallback=null,t.loopCount=0,t.pause(),c=!1;if(f){try{t.div.removeChild(f),f.src=null,f=null}catch(e){}f=null}FJ.Application.broadcast(new FJ.Notification(Tool.Actions.MSG_VIDEO_BUFFER_STOP))},this.mute=function(){c&&(f.volume=0)},this.unMute=function(){c&&(f.volume=1)},this.loop=function(e){p=e},this.hide()},BackgroundMedia.prototype=new FJ.View,BackgroundMedia.prototype.constructor=FJ.View,BackgroundMedia.ON_VIDEO_ENDED="BackgroundMedia.ON_VIDEO_ENDED",BackgroundMedia.FILL=1,BackgroundMedia.LETTERBOX=2;
// Original file: NaviButton.js
NaviButton=function(e,t){FJ.View.call(this),this.div.setAttribute("class","button-base"),this.div.setAttribute("slug",e.id.split("/")[0]);if(!t){var n=document.createElement("div");n.innerHTML="<h1>"+e.title+'</h1><span class="block"></span>',this.div.appendChild(n)}var r=document.createElement("div");r.innerHTML="<h1>"+e.title+'</h1><span class="block"></span><span class="bottom-border"></span>',this.div.appendChild(r);var i=function(t){e.url?window.open(e.url,e.target):FJ.Application.broadcast(new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,e.id))};this.div.tabIndex=0,this.div.setAttribute("role","button"),this.div.addEventListener("click",i,!1),this.setActive=function(e){var t=this.div.getAttribute("slug"),n=t=="directors"&&(e=="director"||e=="reel");t==e||n?this.div.setAttribute("class","button-base menu-current"):this.div.setAttribute("class","button-base")},this.resizeTo=function(e,t){this.div.style.width=t+"px",this.div.style.left=e+"px"}},NaviButton.prototype=new FJ.View,NaviButton.prototype.constructor=FJ.View;
// Original file: AwardsHeader.js
AwardsHeader=function(e){var t=new FJ.ElementWrapper(document.getElementById("awards-header-letter-1")),n=new FJ.ElementWrapper(document.getElementById("awards-header-letter-2")),r=new FJ.ElementWrapper(document.getElementById("awards-header-letter-3")),i=new FJ.ElementWrapper(document.getElementById("awards-header-text-1")),s=new FJ.ElementWrapper(document.getElementById("awards-header-text-2")),o=new FJ.ElementWrapper(document.getElementsByClassName("awards-list")[0]),u=document.getElementById("awards-featured").getElementsByTagName("li"),a=[];for(var f=0;f<u.length;f++)if(u[f]instanceof Element){var l=new FJ.ElementWrapper(u[f]);l.animation.resetAfterAnimation=!0,a.push(l)}t.animation.resetAfterAnimation=!0,n.animation.resetAfterAnimation=!0,r.animation.resetAfterAnimation=!0,i.animation.resetAfterAnimation=!0,s.animation.resetAfterAnimation=!0,o.animation.resetAfterAnimation=!0,e=parseInt(e).pad(3);var c=Number(String(e).charAt(0)),h=Number(String(e).charAt(1)),p=Number(String(e).charAt(2)),d=function(e,t,n,r){e.opacity(0);var i=FJ.Capabilities.isMobile?2:4,s=0,o=function(){if(s<i){var t=.07*r,n=FJ.Capabilities.isMobile?"award-out-number-mobile":"award-out-number";e.animation.set(n,t,"linear",0,u)}},u=function(){s++;var u=s==i?.3*r:.07*r,a=s==i?"cubic-bezier(0, 0, .17, 1)":"linear",f=s==i?FJ.Capabilities.isMobile?"award-in-deblur-number-mobile":"award-in-deblur-number":FJ.Capabilities.isMobile?"award-in-number-mobile":"award-in-number",l=s==1?n:0;e.opacity(1),e.div.innerHTML=t,e.animation.set(f,u,a,l,o,"backwards")};u()};this.animate=function(){FJ.DisplayUtil.addClass(o.div,"awards-list-part-hidden"),o.animation.set("award-list-slide-in",.2,"ease-out"),i.animation.set("award-slide-in-text",.4,"ease-out",.4,null,"backwards"),s.animation.set("award-slide-in-text",.4,"ease-out",.5,null,"backwards"),d(t,c,.9,1),d(n,h,.75,1.1),d(r,p,.5,.9);for(var e=0;e<a.length;e++)a[e].animation.set("award-feature-slide-in",.2,"ease-out",.1*e,null,"backwards");setTimeout(function(){FJ.DisplayUtil.removeClass(o.div,"awards-list-part-hidden")},1600)}};
// Original file: WorldNodeGarden.js
WorldNodeGarden=function(){var e=this,t="assets/imgs/connect/world.gif",n,r,i,s,o,u,a,f=!1,l=[],c=7;FJ.View.call(this);var h=3e3,p=[],d=25,v=0;o=window.innerWidth,u=Math.max(window.innerHeight,o*9/16),a=Math.random;var m=function(e,t){return Math.abs(e.x-t.x)<.1&&Math.abs(e.y-t.y)<.1},g=function(){if(p.length==0){var e=document.createElement("canvas");e.width=i.width,e.height=i.height;var t=e.getContext("2d");t.drawImage(i,0,0),s=t.getImageData(0,0,i.width,i.height);var n=h;while(n>0){var r=a(),f=a(),l=new SQR.V2(r,f);SQR.CanvasUtil.getPixelNormRed(s,l.x,l.y)<128&&(l.x*=o,l.y*=u,p.push({index:p.length,point:l,connections:[],m:-1,connectionState:0}),n--)}for(var c=0;c<h;c++)for(var m=c+1;m<h;m++){var g=p[c].point,b=p[m].point,w=(new SQR.V2).sub(g,b).mag();w<d&&w>v&&p[c].connections.push([m,g,b,0])}}y()};this.draw=function(){i=new Image,i.onload=g,i.src=t},this.clear=function(){r&&r.clearRect(0,0,o,u)};var y=function(){n=document.createElement("canvas"),n.width=o,n.height=u,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.opacity="0.3",e.div.appendChild(n),r=n.getContext("2d"),r.strokeStyle="rgba(0, 0, 0, 0.01)",r.fillStyle="rgba(0, 0, 0, 0.1)";for(var t=0;t<p.length;t++){b(p[t]);for(var i=0;i<p[t].connections.length;i++)w(p[t].connections[i])}},b=function(e){r.beginPath(),r.arc(e.point.x,e.point.y,1,0,SQR.twoPI),r.fill(),e.m=1},w=function(e){r.moveTo(e[1].x,e[1].y),r.lineTo(e[2].x,e[2].y),r.stroke()},E=function(){return p[Math.random()*p.length|0]}},WorldNodeGarden.prototype=new FJ.View,WorldNodeGarden.prototype.constructor=FJ.View;
// Original file: VideoControls.js
var VideoControls=function(){var e=this,t=0,n=VideoControls.count;VideoControls.count++,FJ.View.call(this),this.class("video-controls");var r=new FJ.ElementWrapper(document.createElement("div")),i=new FJ.ElementWrapper(document.createElement("div")),s=new FJ.ElementWrapper(document.createElement("div")),o=new FJ.ElementWrapper(document.createElement("div"));r.class("play"),i.class("pause"),s.class("mute"),o.class("unmute"),this.div.addEventListener("mouseover",function(t){e.isPlaying&&e.autoHide.cancel()}),this.div.addEventListener("mouseout",function(t){e.isPlaying&&e.autoHide.start()});var u=function(){s.setDisplay("none"),o.setDisplay("block"),e.onMute&&e.onMute()},a=function(){s.setDisplay("block"),o.setDisplay("none"),e.onUnmute&&e.onUnmute()},f=function(n){var r=(new Date).getTime();if(r-t<100)return;e.isPlaying?h():c()},l=function(e){e.stopPropagation()},c=function(){e.autoHide.start(),e.onPlay&&e.onPlay()},h=function(){e.autoHide.cancel(),e.onPause&&e.onPause()};this.add(r),this.add(i),r.registerClick(c),i.registerClick(h),FJ.Capabilities.touch||(this.add(s),this.add(o),s.registerClick(u),o.registerClick(a)),this.onMute=null,this.onUnmute=null,this.onPlay=null,this.onPause=null,this.isPlaying=!1,this.setPlayState=function(t){r.setDisplay(t?"none":"block"),i.setDisplay(t?"block":"none"),e.isPlaying=t},this.setMuteState=function(e){s.setDisplay(e?"none":"block"),o.setDisplay(e?"block":"none")};var p=function(){e.opacity(1)},d=function(){e.opacity(0)};this.activate=function(){t=(new Date).getTime(),document.body.addEventListener("click",f),this.div.addEventListener("click",l)},this.deactivate=function(){document.body.removeEventListener("click",f),this.div.removeEventListener("click",l)},this.autoHide=new AutoHide(p,d,2500),this.autoHide.start()};VideoControls.count=0,VideoControls.prototype=new FJ.View,VideoControls.prototype.constructor=FJ.View;
// Original file: WorkInfoPanel.js
WorkInfoPanel=function(e){var t=this,n,r,i,s,o,u,a,f,l;FJ.View.call(this),this.id("content"),this.dispatcher=new FJ.EventDispatcher;var c;this.build=function(e){r=e,d()};var h=function(){t.dispatcher.dispatch(WorkItem.HEADER_SHOW),i.opacity(1)},p=function(){t.dispatcher.dispatch(WorkItem.HEADER_HIDE),i.opacity(0)};this.autoHide=new AutoHide(h,p,2500);var d=function(){if(!n){BaseView.loadTemplate(Tool.Actions.TP_WORK_ITEM,function(e){n=e,d()});return}var e=r.directors.length,h={},p="";for(var y=0;y<e;y++){var b=r.directors[y].role.split(","),w=r.directors[y].name,E=r.directors[y].slug;for(var S=0;S<b.length;S++){var x=b[S].trim().toLowerCase();h[x]||(h[x]=[]),h[x].push([w,E])}}for(var x in h){var T=h[x];T.sort();var S=0;p+="<li>";for(;S<T.length;S++){var w=T[S][0],E=T[S][1];w.toLowerCase().indexOf("tool")==-1&&(w='<a href="'+E+'">'+w+"</a>"),p+=w,S<T.length-1&&(p+=", ")}S>1&&(x+="s"),p+="<small>"+x+"</small></li>"}r.dirlist=p,n.execute(t.div,r),c=r.description||r.awards&&r.awards.length>0||r.press&&r.press.length>0,i=new FJ.ElementWrapper(document.getElementById("work-item-head")),t.autoHide.start(),s=new FJ.ElementWrapper(document.getElementById("viewMoreLink")),o=new FJ.ElementWrapper(document.getElementById("viewLessLink"));var N=new FJ.ElementWrapper(document.getElementById("viewMoreBlock"));u=new FJ.ElementWrapper(document.getElementById("work-item-view-project"));var C=new FJ.ElementWrapper(document.getElementById("work-item-video"));FJ.Capabilities.touch?C.registerClick(function(){t.dispatcher.dispatch(WorkItem.ON_TOUCH_VIDEO)}):C.setDisplay("none"),a=new FJ.ElementWrapper(document.getElementById("work-item-case-study-video")),a.registerClick(g),f=new FJ.ElementWrapper(document.getElementById("belowTheFold")),l=Array.prototype.slice.call(t.div.getElementsByClassName("animatable")),FJ.ArrayUtil.applyOn(l,function(e){return new FJ.ElementWrapper(e)}),c?(o.setDisplay("none"),s.registerClick(v),o.registerClick(m)):N.setDisplay("none"),t.dispatcher.dispatch(WorkItem.CONTENT_READY)},v=function(){e.scrollTo(0,window.innerHeight,20)},m=function(){e.scrollTo(0,0,20)};this.clear=function(){t.div.innerHTML=""};var g=function(){t.dispatcher.dispatch(WorkItem.ON_CASE_STUDY)};this.onScroll=function(r,i){if(!n)return;var u=f&&c?f.height():0;e.limitY(0,u),t.translate(0,r*-1),i?r>10?t.autoHide.cancel():t.autoHide.start():t.autoHide.cancel(),s&&(r<25?(s.setDisplay("block"),o.setDisplay("none")):(s.setDisplay("none"),o.setDisplay("block")));var a=l.length,h=f.height();for(var p=0;p<a;p++){var d=h-FJ.MathUtil.clamp(0,h,r);d/=h,d=FJ.MathUtil.easeQuadInOut(0,1,d),d=d*(p+1)*100,l[p].translate(0,d)}}},WorkInfoPanel.prototype=new FJ.View,WorkInfoPanel.prototype.constructor=FJ.View;
// Original file: VideoProxy.js
VideoProxy=function(){var e=this,t=new BackgroundMedia("splash-gradient-trans-black-css"),n=new VideoControls,r=!1,i=!1,s;this.dispatcher=new FJ.EventDispatcher,this.media=function(){return t},this.playSplash=function(e){return!e.splashVideo||e.splashVideo==""||FJ.Capabilities.touch?!1:o(getVideoUrl(e.splashVideo))},this.playCaseStudy=function(e){return e.casestudy?o(getVideoUrl(e.casestudy.video)):!1};var o=function(r,o){return i&&e.disable(),t.load(r,null,!1,o),t.setDisplay("block"),n.setDisplay("block"),n.setPlayState(!0),n.autoHide.start(),s=.4,t.dispatcher.addEventListener(function(t){e.dispatcher.dispatch(WorkItem.VIDEO_ENDED)}),i=!0,e.onScroll(0),!0};this.attachControls=function(){var e=document.getElementById("work-item-video-controls");e.appendChild(n.div),n.setPlayState(!0),n.setMuteState(!1),n.onMute=t.mute,n.onUnmute=t.unMute,n.onPlay=u,n.onPause=a},this.onScroll=function(e){if(!i)return;var o=(FJ.MathUtil.clamp(20,100,e)-20)/80;t.translate(0,e*-0.5),t.setOverlayOpacity(0),r||(n.isPlaying&&e>10?(n.autoHide.cancel(),n.setPlayState(!1),t.pause(),s=.8):!n.isPlaying&&e<=10&&(n.autoHide.start(),n.setPlayState(!0),t.resume(),s=.4))},this.isPlaying=function(){return i&&n.isPlaying},this.onResize=function(){t.resize()},this.disable=function(){t.clear(),t.setDisplay("none"),n.setPlayState(!1),n.autoHide.cancel(),i=!1},this.disableControls=function(){n.setDisplay("none")},this.play=function(){if(!i)return;u()},this.pause=function(){if(!i)return;a()};var u=function(){i?(r=!1,e.dispatcher.dispatch(WorkItem.VIDEO_MANUALLY_RESUMED)):e.dispatcher.dispatch(WorkItem.VIDEO_REPLAY)},a=function(){r=!0,t.pause(),n.setPlayState(!1),n.autoHide.cancel(),e.dispatcher.dispatch(WorkItem.VIDEO_MANUALLY_PAUSED),s=.8};this.setMinOpacity=function(e){s=e},this.activate=function(){n.activate()},this.deactivate=function(){n.deactivate(),t.clear()}};
// Original file: ImageProxy.js
ImageProxy=function(){var e=this,t=new BackgroundMedia("splash-gradient-trans-black-css"),n=.8,r=!1;this.dispatcher=new FJ.EventDispatcher,this.media=function(){return t},this.loadSplash=function(e){return!e.splashImage||e.splashImage==""?!1:(t.load(e.splashImage),t.setDisplay("block"),r=!0,!0)},this.onScroll=function(e){if(!r)return;t.translate(0,e*-0.5);var i=(FJ.MathUtil.clamp(20,100,e)-20)/80;t.setOverlayOpacity(n+i*(1-n))},this.onResize=function(){t.resize()},this.disable=function(){t.setDisplay("none"),r=!1}};
// Original file: WorkThumb.js
WorkThumb=function(e,t,n){var r=1080,i=.5,s=this,o=!0,u=0,a;FJ.View.call(this);var f,l,c,h,p=e;this.class(FJ.Capabilities.touch?"thumb touch":"thumb mouse"),f=new FJ.ElementWrapper,FJ.CSSTransformBehavior(f.div,f),f.div.style.backgroundSize=WorkThumb.BACKGROUND_SIZE,this.add(f),l=new FJ.View,this.add(l),f.opacity(i),l.opacity(1),this.setWidth=function(e){a=e,f.div.style.width=a+"px",f.div.style.height="100%"},this.reset=function(){f.animation.reset(),l.animation.reset(),s.onResize()},this.onClick=function(){var e=new FJ.Notification(FJ.MSG_NAVIGATE,FJ.NOTIF_NAVIGATION,c.slug.substring(2));FJ.Application.broadcast(e)};var d=function(){c=n[p],f.div.style.backgroundColor=p%2==0?"#222":"#333";var e=FJ.Capabilities.touch?"data/image-proxy.php?p="+c.thumbLarge:c.thumbLarge;f.div.style.backgroundImage="url("+e+")",h=document.createElement("div"),c.client&&c.client.length>0?h.innerHTML+="<h2>"+c.client[0].name+"</h2>":h.innerHTML+="<span class='no-agency'></span>",h.innerHTML+="<h1>"+c.name+"</h1>";var t="";if(c.directors){var r=c.directors.length,i={},t="";for(var o=0;o<r;o++){var u=c.directors[o].role.split(","),a=c.directors[o].name,d=c.directors[o].slug;for(var v=0;v<u.length;v++){var m=u[v].trim().toLowerCase();i[m]||(i[m]=[]),i[m].push([a,d])}}for(var m in i){var g=i[m];g.sort();var v=0;for(;v<g.length;v++){var a=g[v][0],d=g[v][1];a.toLowerCase().indexOf("tool")==-1&&(a='<a href="'+d+'">'+a+"</a>"),t+="<h3>"+a+"</h3>"}v>1&&(m+="s"),t+="<h4>"+m+"</h4>"}}h.innerHTML+=t,l.div.innerHTML="",l.div.appendChild(h),s.onResize()};this.onScroll=function(r,i){var o=f,c=l,h=-r+e*a,v=0;while(h>window.innerWidth)h-=t*a,v-=t;while(h<-a)h+=t*a,v+=t;if(v+e!=p&&v+e>=0&&v+e<n.length){var m=p>v+e;p=v+e,d(),u=m?-80:80}FJ.Capabilities.csstransforms3d?(s.transform.translate(h,0,0),i&&(o.transform.rotate3D(0,u,0),c.transform.rotate3D(0,u,0))):s.translate(h,0,0),h>a*-0.75&&h<window.innerWidth-a*.25&&(u*=i?.92:0)};var v=function(){v=!1};this.animateIn=function(e){f.animation.set("work-thumb-image-in",.6,"ease",.3,v,"backwards"),l.animation.set("work-thumb-label-in",.5,"ease",.4,e,"backwards"),o=!0},this.animateOut=function(e){f.animation.set("work-thumb-image-out",.4,"ease",0,e,"forwards"),l.animation.set("work-thumb-label-out",.3,"ease",0,e,"forwards")},this.onResize=function(){var e=FJ.Capabilities.touch?WorkList.SCROLLBAR_HEIGHT_TOUCH:WorkList.SCROLLBAR_HEIGHT;this.div.style.height=window.innerHeight-Tool.Actions.MENU_HEIGHT*2-e+"px",f.div.style.backgroundSize=WorkItem.BACKGROUND_SIZE,h.style.marginTop=window.innerHeight-400+"px"},d()},WorkThumb.prototype=new FJ.View,WorkThumb.prototype.constructor=FJ.View,WorkItem.BACKGROUND_SIZE="cover";
// Original file: WorkNotFound.js
WorkNotFound=function(e,t,n){var r=this;n.length>20&&(n=n.substring(0,20)+"...");var i=window.innerWidth<=Tool.Actions.NARROW_LAYOUT_THRESHOLD?300:400;FJ.View.call(this),this.div.style.height=window.innerHeight-Tool.Actions.MENU_HEIGHT*2-10+"px",this.div.style.width=window.innerWidth*.5+"px",this.class("not-found");var s=new FJ.ElementWrapper;this.add(s),s.div.style.marginTop=window.innerHeight-500+"px",s.div.style.marginTop=window.innerHeight-500+"px",s.div.innerHTML="<h4>NO RESULTS FOUND FOR</h4><h1>"+n+"</h1><h6>We are sorry, but we couldn't find anything that matches <em>"+n+"</em> in our projects.</h6>",this.onScroll=function(t,n){var s=-t+e*i;r.transform.translate(s,0,0)},this.animateIn=function(e){e()}},WorkNotFound.prototype=new FJ.View,WorkNotFound.prototype.constructor=FJ.View;
// Original file: WorkRecommended.js
WorkRecommended=function(e,t,n){var r=this,i=window.innerWidth<=Tool.Actions.NARROW_LAYOUT_THRESHOLD?300:400;FJ.View.call(this),this.div.style.height=window.innerHeight-Tool.Actions.MENU_HEIGHT*2-10+"px",this.div.style.width=window.innerWidth*.5+"px",this.div.style.left=window.innerWidth*.5+"px",this.class("recommended");var s=new FJ.ElementWrapper;this.add(s),s.div.style.marginTop=window.innerHeight-500+"px";var o="<h4>Be sure to check our projects in featured categories:</h4><ul>";for(var u=0;u<n.length;u++){var a=n[u];o+="<li>&gt; <a href='#/work/tag/"+a+"'>"+a+"</a></li>"}o+="</ul>",s.div.innerHTML=o,this.onScroll=function(t,n){var s=-t+e*i;r.transform.translate(s,0,0)},this.animateIn=function(e){e()}},WorkNotFound.prototype=new FJ.View,WorkNotFound.prototype.constructor=FJ.View;
// Original file: DirectorInfoPanel.js
DirectorInfoPanel=function(e){var t=this,n,r,i,s,o;FJ.View.call(this),this.dispatcher=new FJ.EventDispatcher,this.build=function(e){r=e,r.awards&&a(r.awards),u()};var u=function(){if(!n){BaseView.loadTemplate(Tool.Actions.TP_DIR_ITEM,function(e){n=e,u()});return}n.execute(t.div,r),i=new FJ.ElementWrapper(document.getElementById("belowTheFold")),s=new FJ.ElementWrapper(document.getElementById("director-item-view-reel")),s.setDisplay(!r.reel||r.reel.length==0||FJ.Capabilities.touch?"none":"block"),o=new FJ.ElementWrapper(t.div.getElementsByClassName("head")[0]),t.onScroll(0),t.dispatcher.dispatch(DirectorItem.CONTENT_READY)},a=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.direction instanceof Array){var r=n.direction.length,i={},s="";for(var o=0;o<r;o++){var u=n.direction[o].role.split(","),a=n.direction[o].name,f=n.direction[o].slug;for(var l=0;l<u.length;l++){var c=u[l].trim().toLowerCase();i[c]||(i[c]=[]),i[c].push(a+"/"+f)}}for(var c in i){var h=i[c];h.sort();var l=0;for(;l<h.length;l++){var a=h[l].split("/")[0],f=h[l].split("/")[0];a.toLowerCase().indexOf("tool")>-1&&(a='<a href="'+f+'">'+a+"</a>"),s+="<h6>"+a+"</h6>",l<h.length-1&&(s+=", ")}l>1&&(c+="s"),s+="<h5>"+c+"</h5>"}n.direction=s}if(n.awards instanceof Array){var u="";for(var o=0;o<n.awards.length;o++)u+="<div><span class='icon white icon-"+n.awards[o][0].toLowerCase()+"'></span><h4>"+n.awards[o][1]+"</h4></div>";n.awards=u}n.index=t}};this.onScroll=function(n){var r=i?i.height():0;e.limitY(0,r),t.translate(0,n*-1)},this.clear=function(){t.div.innerHTML=""}},DirectorInfoPanel.prototype=new FJ.View,DirectorInfoPanel.prototype.constructor=FJ.View;
// Original file: ImageSlideshow.js
ImageSlideshow=function(){var e=this,t=5e3,n,r,i=0,s=new BackgroundMedia("splash-gradient-trans-black-css");s.div.style.top=Tool.Actions.MENU_HEIGHT*2+"px";var o=.3,u=!1;this.dispatcher=new FJ.EventDispatcher;var a=function(){var e=Math.min(r.length,3),o=r[i%e];s.load(o),i++,r.length>1&&(n=setTimeout(a,t))};this.media=function(){return s},this.loadGallery=function(t){return!t.splashImages||t.splashImages.length==0?(u=!1,!1):(clearTimeout(n),r=t.splashImages,i=0,u=!0,e.onScroll(0),!0)},this.onScroll=function(e){if(!u||!r)return;s.translate(0,e*-0.5);var i=(FJ.MathUtil.clamp(20,100,e)-20)/80;s.setOverlayOpacity(o+i*(1-o)),e>0?(clearTimeout(n),n=0):n||r.length>1&&(n=setTimeout(a,t))},this.onResize=function(){s.resize()},this.disable=function(){if(!r)return;clearTimeout(n),s.setDisplay("none"),u=!1},this.enable=function(){if(!r)return;u=!0,s.setDisplay("block"),a()}};
// Original file: ExtendedVideoControls.js
var ExtendedVideoControls=function(){var e=this;VideoControls.call(this);var t=new FJ.ElementWrapper(document.createElement("div")),n=new FJ.ElementWrapper(document.createElement("div")),r=new FJ.ElementWrapper(document.createElement("div"));t.class("prev"),n.class("next"),r.class("counter"),this.add(t),this.add(n),this.add(r);var i=function(){e.onNext&&e.onNext()},s=function(){e.onPrev&&e.onPrev()};t.registerClick(s),n.registerClick(i),this.onNext=null,this.onPrev=null,this.updateCounter=function(e,t){r.div.innerHTML="<span>"+e+"/"+t+"</span>"}};ExtendedVideoControls.prototype=new VideoControls,ExtendedVideoControls.prototype.constructor=VideoControls;
